<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>longtrankim_L</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>Asm2Final/src/Main.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Tran Kim Long
  ID: s3755614
  Created date: 12/12/2019
  Last modified: 18/12/2019
  Acknowledgement:
  For coding, I have used various resources from javafx api along side with Mr.Quang's lecture slides.
  Here is the list of all the classes i have used:
  1. AnimationTimer https://docs.oracle.com/javafx/2/api/javafx/animation/AnimationTimer.html
  2. MediaPlayer https://docs.oracle.com/javafx/2/api/javafx/scene/media/MediaPlayer.html
  3. ProgressBar https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ProgressBar.html
  4. RotateTransition https://docs.oracle.com/javafx/2/api/javafx/animation/RotateTransition.html
  5. ComboBox https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ComboBox.html
  6. Collections https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html

  For UI designing, i have used various resources of images and sound effect from internet.
  Most of the images are formatted by me to fit with my UI design.
  Here is the list of all the resources i have used:
  Players images:
  1.https://vietnamnet.vn/vn/doi-song/gioi-tre/trung-ve-thanh-chung-va-chuyen-tinh-3-nam-ben-ban-gai-10x-593847.html
  2.https://vnexpress.net/world-cup-2022/tien-linh-khong-ta-noi-cam-xuc-khi-choc-thung-luoi-uae-4012551.html
  3.https://dantri.com.vn/sea-games-30/bao-chau-a-du-doan-bui-tien-dung-du-bi-o-tran-gap-u-22-singapore-20191203124244217.htm
  4.https://tintuconline.com.vn/the-thao/ha-duc-chinh-pha-sau-ky-luc-ghi-ten-minh-vao-lich-su-u22-viet-nam-tai-sea-games-n-419678.html
  5.http://bongdatructuyen.net/nhung-cai-ten-giup-u23-viet-nam-toa-sang-o-vong-loai-u23-chau-a-2020/
  6.http://quangtri.tintuc.vn/the-thao/truong-van-thai-quy-la-mot-trong-9-ngoi-sao-cua-hlv-park-hang-seo-o-u23-viet-nam.html
  7.https://news.zing.vn/nguyen-hoang-duc-con-dau-dau-cua-hlv-park-hang-seo-post928577.html
  8.https://news.zing.vn/buoc-ngoat-tuoi-14-va-hanh-trinh-toi-dinh-cao-cua-do-hung-dung-post1022206.html
  9.https://nguoi-noi-tieng.com/tieu-su/tieu-su-cau-thu-nguyen-quang-hai-531265
  10.https://baomoi.com/tuyen-thu-trong-hoang-chuan-bi-ket-hon/c/28227232.epi
  Card Background:
  https://www.vectorstock.com/royalty-free-vector/flat-football-icon-over-red-background-vector-4881634
  App background:
  https://dantri.com.vn/giai-tri/dan-sao-o-viet-nam-han-quoc-cung-co-vu-viet-nam-vo-dich-20181215152158487.htm
  Sound icon:
  https://www.vectorstock.com/royalty-free-vector/volume-sound-icon-on-white-background-vector-20857588
  Sound:
<A NAME="0"></A>  https://www.bensound.com/royalty-free-music/track/little-idea
*/

<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match51-1.html#0',3,'match51-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class Main extends Application {

    public void start(Stage stage) throws Exception{
        FXMLLoader loader = new FXMLLoader()</B></FONT>;
        loader.setLocation(getClass().getResource(&quot;/view/UI.fxml&quot;));
<A NAME="1"></A>        Parent root = loader.load();
        stage.setTitle(&quot;U22 Vietnam Card Game&quot;);
        stage.setScene(new Scene(root, 800, 580));
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match51-1.html#1',3,'match51-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>stage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}</B></FONT>
</PRE>
<HR>
<H3><CENTER>Asm2Final/src/controller/EndController.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Tran Kim Long
  ID: s3755614
  Created date: 12/12/2019
  Last modified: 18/12/2019
  Acknowledgement:
  For coding, I have used various resources from javafx api along side with Mr.Quang's lecture slides.
  Here is the list of all the classes i have used:
  1. AnimationTimer https://docs.oracle.com/javafx/2/api/javafx/animation/AnimationTimer.html
  2. MediaPlayer https://docs.oracle.com/javafx/2/api/javafx/scene/media/MediaPlayer.html
  3. ProgressBar https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ProgressBar.html
  4. RotateTransition https://docs.oracle.com/javafx/2/api/javafx/animation/RotateTransition.html
  5. ComboBox https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ComboBox.html
  6. Collections https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html

  For UI designing, i have used various resources of images and sound effect from internet.
  Most of the images are formatted by me to fit with my UI design.
  Here is the list of all the resources i have used:
  Players images:
  1.https://vietnamnet.vn/vn/doi-song/gioi-tre/trung-ve-thanh-chung-va-chuyen-tinh-3-nam-ben-ban-gai-10x-593847.html
  2.https://vnexpress.net/world-cup-2022/tien-linh-khong-ta-noi-cam-xuc-khi-choc-thung-luoi-uae-4012551.html
  3.https://dantri.com.vn/sea-games-30/bao-chau-a-du-doan-bui-tien-dung-du-bi-o-tran-gap-u-22-singapore-20191203124244217.htm
  4.https://tintuconline.com.vn/the-thao/ha-duc-chinh-pha-sau-ky-luc-ghi-ten-minh-vao-lich-su-u22-viet-nam-tai-sea-games-n-419678.html
  5.http://bongdatructuyen.net/nhung-cai-ten-giup-u23-viet-nam-toa-sang-o-vong-loai-u23-chau-a-2020/
  6.http://quangtri.tintuc.vn/the-thao/truong-van-thai-quy-la-mot-trong-9-ngoi-sao-cua-hlv-park-hang-seo-o-u23-viet-nam.html
  7.https://news.zing.vn/nguyen-hoang-duc-con-dau-dau-cua-hlv-park-hang-seo-post928577.html
  8.https://news.zing.vn/buoc-ngoat-tuoi-14-va-hanh-trinh-toi-dinh-cao-cua-do-hung-dung-post1022206.html
  9.https://nguoi-noi-tieng.com/tieu-su/tieu-su-cau-thu-nguyen-quang-hai-531265
  10.https://baomoi.com/tuyen-thu-trong-hoang-chuan-bi-ket-hon/c/28227232.epi
  Card Background:
  https://www.vectorstock.com/royalty-free-vector/flat-football-icon-over-red-background-vector-4881634
  App background:
  https://dantri.com.vn/giai-tri/dan-sao-o-viet-nam-han-quoc-cung-co-vu-viet-nam-vo-dich-20181215152158487.htm
  Sound icon:
  https://www.vectorstock.com/royalty-free-vector/volume-sound-icon-on-white-background-vector-20857588
  Sound:
<A NAME="10"></A>  https://www.bensound.com/royalty-free-music/track/little-idea
*/

<FONT color="#b041ff"><A HREF="javascript:ZweiFrames('match51-1.html#10',3,'match51-top.html#10',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>package controller;

import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;
import model.GameModel;
import java.io.IOException;

public class EndController {
    private GameModel model = new GameModel();
    @FXML</B></FONT>
    private GridPane gamePanel;

<A NAME="11"></A>    @FXML
    private void loadNewGame() throws IOException {
        FXMLLoader loader = new FXMLLoader();
        <FONT color="#571b7e"><A HREF="javascript:ZweiFrames('match51-1.html#11',3,'match51-top.html#11',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>loader.setLocation(getClass().getResource(&quot;/view/UI.fxml&quot;));
        Parent root = loader.load();
        Stage stage = (Stage) gamePanel.getScene().getWindow();
<A NAME="12"></A>        stage.getScene().setRoot(root);
        GameModel.Score.setScoreFromFile();
        GameModel.Level.setGameLevel</B></FONT>(1);
    <FONT color="#3b9c9c"><A HREF="javascript:ZweiFrames('match51-1.html#12',3,'match51-top.html#12',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    @FXML
    private void quit() {
        model.exit();
    }
}</B></FONT>
</PRE>
<HR>
<H3><CENTER>Asm2Final/src/controller/GameController.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Tran Kim Long
  ID: s3755614
  Created date: 12/12/2019
  Last modified: 18/12/2019
  Acknowledgement:
  For coding, I have used various resources from javafx api along side with Mr.Quang's lecture slides.
  Here is the list of all the classes i have used:
  1. AnimationTimer https://docs.oracle.com/javafx/2/api/javafx/animation/AnimationTimer.html
  2. MediaPlayer https://docs.oracle.com/javafx/2/api/javafx/scene/media/MediaPlayer.html
  3. ProgressBar https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ProgressBar.html
  4. RotateTransition https://docs.oracle.com/javafx/2/api/javafx/animation/RotateTransition.html
  5. ComboBox https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ComboBox.html
  6. Collections https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html

  For UI designing, i have used various resources of images and sound effect from internet.
  Most of the images are formatted by me to fit with my UI design.
  Here is the list of all the resources i have used:
  Players images:
  1.https://vietnamnet.vn/vn/doi-song/gioi-tre/trung-ve-thanh-chung-va-chuyen-tinh-3-nam-ben-ban-gai-10x-593847.html
  2.https://vnexpress.net/world-cup-2022/tien-linh-khong-ta-noi-cam-xuc-khi-choc-thung-luoi-uae-4012551.html
  3.https://dantri.com.vn/sea-games-30/bao-chau-a-du-doan-bui-tien-dung-du-bi-o-tran-gap-u-22-singapore-20191203124244217.htm
  4.https://tintuconline.com.vn/the-thao/ha-duc-chinh-pha-sau-ky-luc-ghi-ten-minh-vao-lich-su-u22-viet-nam-tai-sea-games-n-419678.html
  5.http://bongdatructuyen.net/nhung-cai-ten-giup-u23-viet-nam-toa-sang-o-vong-loai-u23-chau-a-2020/
  6.http://quangtri.tintuc.vn/the-thao/truong-van-thai-quy-la-mot-trong-9-ngoi-sao-cua-hlv-park-hang-seo-o-u23-viet-nam.html
  7.https://news.zing.vn/nguyen-hoang-duc-con-dau-dau-cua-hlv-park-hang-seo-post928577.html
  8.https://news.zing.vn/buoc-ngoat-tuoi-14-va-hanh-trinh-toi-dinh-cao-cua-do-hung-dung-post1022206.html
  9.https://nguoi-noi-tieng.com/tieu-su/tieu-su-cau-thu-nguyen-quang-hai-531265
  10.https://baomoi.com/tuyen-thu-trong-hoang-chuan-bi-ket-hon/c/28227232.epi
  Card Background:
  https://www.vectorstock.com/royalty-free-vector/flat-football-icon-over-red-background-vector-4881634
  App background:
  https://dantri.com.vn/giai-tri/dan-sao-o-viet-nam-han-quoc-cung-co-vu-viet-nam-vo-dich-20181215152158487.htm
  Sound icon:
  https://www.vectorstock.com/royalty-free-vector/volume-sound-icon-on-white-background-vector-20857588
  Sound:
<A NAME="13"></A>  https://www.bensound.com/royalty-free-music/track/little-idea
*/

<FONT color="#842dce"><A HREF="javascript:ZweiFrames('match51-1.html#13',3,'match51-top.html#13',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>package controller;

import javafx.animation.AnimationTimer;
import javafx.animation.Interpolator;
import javafx.animation.RotateTransition;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.control.ComboBox;
import javafx.scene.control.Label;
import javafx.scene.control.ProgressBar;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.scene.transform.Rotate;
import javafx.stage.Stage;
import javafx.util.Duration;
import model.GameModel;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.ArrayList;

public class GameController {
    private GameModel model = new GameModel();
<A NAME="14"></A>
    // Required variables and constants
    private ImageView[] cards = new ImageView[numberOfCards]</B></FONT>;
    <FONT color="#f52887"><A HREF="javascript:ZweiFrames('match51-1.html#14',3,'match51-top.html#14',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>private ArrayList&lt;Integer&gt; openedCards = new ArrayList&lt;&gt;();
    private static final int numberOfColumns = 5;
    private static final int numberOfCards = 20;
    private static final Image defaultImage = new Image(&quot;file:src/images/UI/bgi_card.jpg&quot;);
    private boolean gameStop = false;
    private boolean gameOnGoing = false;
    private boolean musicPlaying = false;
    private int previousCardID;
    private int previousImageID;
    private int elapsedSecond = 0;
    private ElapsedTime eTime = new ElapsedTime()</B></FONT>;
<A NAME="15"></A>    private MediaPlayer bgm = new MediaPlayer(new Media(new File(&quot;src/bgm.mp3&quot;).toURI().toString()));

    // FXML related function and variables
    <FONT color="#3bb9ff"><A HREF="javascript:ZweiFrames('match51-1.html#15',3,'match51-top.html#15',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>@FXML
    private GridPane gamePanel;
    @FXML
    private GridPane cardPanel;
    @FXML private
    ComboBox&lt;Integer&gt; selectLevel;
    @FXML
    private Label timerLabel;
    @FXML
    private Label displayLevel;
    @FXML
    private Label scoreLabel;
    @FXML
    private ProgressBar timerBar;
<A NAME="16"></A>    @FXML
    private ImageView musicButton;
    @FXML</B></FONT>
    private void createComboBox() <FONT color="#3090c7"><A HREF="javascript:ZweiFrames('match51-1.html#16',3,'match51-top.html#16',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
        if (selectLevel.getItems().isEmpty()) {
            selectLevel.getItems().addAll(1, 2, 3);
            selectLevel.setOnAction(selectLevelEvent);
        }
<A NAME="17"></A>    }</B></FONT>
    private EventHandler&lt;ActionEvent&gt; selectLevelEvent =
            new EventHandler&lt;&gt;() {
                public void handle(<FONT color="#800517"><A HREF="javascript:ZweiFrames('match51-1.html#17',3,'match51-top.html#17',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ActionEvent e) {
                    if (GameModel.Level.canSetLevel()) {
                        GameModel.Level.setGameLevel(selectLevel.getValue());
                        displayLevel.setText(Integer.toString(GameModel.Level.getGameLevel()));
                    }
                }</B></FONT>
            };
    @FXML
    private void controlSound() {
        if (musicPlaying) {
            bgm.pause();
            musicPlaying = false;
            musicButton.setImage(new Image(&quot;file:src/images/UI/ico_sound_off.jpg&quot;));
        }
        else {
<A NAME="18"></A>            bgm.setStartTime(new Duration(0));
            bgm.play();
            musicPlaying = true;
            <FONT color="#f62817"><A HREF="javascript:ZweiFrames('match51-1.html#18',3,'match51-top.html#18',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>musicButton.setImage(new Image(&quot;file:src/images/UI/ico_sound_on.jpg&quot;));
        }
    }
<A NAME="19"></A>    @FXML
    private void loadEndScene(){</B></FONT>
        try {
            <FONT color="#4e9258"><A HREF="javascript:ZweiFrames('match51-1.html#19',3,'match51-top.html#19',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource(&quot;/view/EndUI.fxml&quot;));
            Parent root = loader.load();
            Stage stage = (Stage) gamePanel.getScene().getWindow();
            stage.getScene().setRoot</B></FONT>(root);
            bgm.pause();
            gameOnGoing = false;
        }
<A NAME="20"></A>        catch (IOException e) {
            System.out.println(&quot;IO Exception occurred&quot;);
        }
        <FONT color="#d4a017"><A HREF="javascript:ZweiFrames('match51-1.html#20',3,'match51-top.html#20',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>GameModel.Level.setCanSetLevel(true);

        try {
            GameModel.Score.saveScoreToFile();
        }
        catch (FileNotFoundException e) {
            System.out.println(&quot;Error: Score file not found&quot;);
        }

    }

    // Non-fxml functions
    private void initia</B></FONT>lizeCardViews() {
        int i = 0;  // Row
<A NAME="21"></A>        int j = 0;  // Column
        for (int k = 0; k &lt; numberOfCards; k++) {
            ImageView card = new ImageView();
            <FONT color="#00ff00"><A HREF="javascript:ZweiFrames('match51-1.html#21',3,'match51-top.html#21',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>cards[k] = card;
            cardPanel.add(cards[k], j, i);
            // Move to next Pane
            j++;
            if (j == numberOfColumns) {
                i++;
                j = 0;
            }
            // Set card configurations
            cards[k].setFitHeight(120);
<A NAME="22"></A>            cards[k].setFitWidth(80);
            cards[k].setSmooth(true);
            cards[k].setPreserveRatio</B></FONT>(true);
            <FONT color="#4cc417"><A HREF="javascript:ZweiFrames('match51-1.html#22',3,'match51-top.html#22',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>cards[k].setOnMouseClicked(this::onCardClick);
        }
    }

    private void onCardClick(MouseEvent e) {
        ImageView clickedCard = (ImageView) e.getSource();
        if (!gameStop &amp;&amp; !GameModel.Card.isCardFlipping()) {</B></FONT>
<A NAME="23"></A>            for (int i = 0; i &lt; numberOfCards; i++) {
                // Check which card is clicked
                if (cards[i].equals(clickedCard)) {
                    <FONT color="#f660ab"><A HREF="javascript:ZweiFrames('match51-1.html#23',3,'match51-top.html#23',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>model.setCardsClicked(model.getCardsClicked() + 1);
                    if (i != previousCardID) {
                        int currentImageID = model.getCardList().get(i).getImageID();  // Record the current Image
                        showCard(cards[i], model.getCardList</B></FONT>().get(i).getImage());
                        //Only compare two cards if its new card
<A NAME="24"></A>                        if (model.getCardsClicked() == 2) {
                            Duration hideDuration = new Duration(0);
                            switch (GameModel.Level.getGameLevel()) {
                                <FONT color="#ada96e"><A HREF="javascript:ZweiFrames('match51-1.html#24',3,'match51-top.html#24',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>case 1: hideDuration = Duration.seconds(3);
                                    break;
                                case 2: hideDuration = Duration.seconds(2);
                                    break;
<A NAME="25"></A>                                case 3: hideDuration = Duration.seconds(1);
                                    break;
                            }</B></FONT>
                            <FONT color="#87f717"><A HREF="javascript:ZweiFrames('match51-1.html#25',3,'match51-top.html#25',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>if (!openedCards.contains(currentImageID) &amp;&amp; !openedCards.contains(previousImageID)) {
                                // Compare two cards
                                if (previousImageID != currentImageID) {
                                    // Mismatch
                                    hideCard(cards[i], hideDuration);
                                    hideCard(cards[previousCardID], hideDuration);
                                }
                                else {
                                    // Add to the list of opened cards if they matched
                                    openedCards.add</B></FONT>(currentImageID);

                                    // If game completed
<A NAME="26"></A>                                    if(isGameComplete()) {
                                        onGameFinished();
                                    }
                                <FONT color="#95b9c7"><A HREF="javascript:ZweiFrames('match51-1.html#26',3,'match51-top.html#26',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
                            }
                            else {
                                // Hide the earlier cards
                                if (!openedCards.contains(currentImageID)) {
                                    hideCard(cards[i], hideDuration);
                                }
                                else if(!openedCards.contains(previousImageID)) {
<A NAME="27"></A>                                    hideCard</B></FONT>(cards[previousCardID], hideDuration);
                                }
                            }
                            <FONT color="#e77471"><A HREF="javascript:ZweiFrames('match51-1.html#27',3,'match51-top.html#27',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>model.setCardsClicked(0); //Return the number of cards to 0 after compared
                        }
                        else {
                            // Record previous Card
                            previousImageID = model.getCardList().get(i).getImageID();
                            previousCardID = i;
<A NAME="28"></A>                        }
                    }</B></FONT>
                    // Does not record new card if user clicked the same card
                    else model.setCardsClicked(model.getCardsClicked() - 1)<FONT color="#717d7d"><A HREF="javascript:ZweiFrames('match51-1.html#28',3,'match51-top.html#28',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>;
                }
            }
        }
    }
<A NAME="29"></A>
    private boolean isGameComplete() {</B></FONT>
        for (int i = 0; i &lt; 20; i++) {
            if (!openedCards.contains(<FONT color="#faafba"><A HREF="javascript:ZweiFrames('match51-1.html#29',3,'match51-top.html#29',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>model.getCardList().get(i).getImageID()))
                return false;
        }
        return true;
    }

    private </B></FONT>void showCard(ImageView currentCard, Image showImage) {
        // Create new rotate transition
        GameModel.Card.setCardFlipping(true);
        RotateTransition rotateCard = createRotation(currentCard);
        rotateCard.setOnFinished(cardEvent -&gt; {
<A NAME="30"></A>            currentCard.setImage(showImage);  // Show the card
            GameModel.Card.setCardFlipping(false);
        });
        <FONT color="#f9966b"><A HREF="javascript:ZweiFrames('match51-1.html#30',3,'match51-top.html#30',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>rotateCard.play();
    }

    private void hideCard(ImageView card, Duration delay) {
        // Create new rotate transition with delay time
        GameModel.Card.setCardFlipping(true);
        RotateTransition rotateCard = createDelayRotation(card, delay);
        rotateCard.setOnFinished</B></FONT>(cardEvent -&gt; {
            card.setImage(defaultImage);
<A NAME="31"></A>            GameModel.Card.setCardFlipping(false);
        });
        rotateCard.play();
    <FONT color="#3ea99f"><A HREF="javascript:ZweiFrames('match51-1.html#31',3,'match51-top.html#31',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    private void hideAllCards() {
        for (int i = 0; i &lt; numberOfCards; i++) {
            cards[i].setImage(defaultImage);
        }
<A NAME="32"></A>    }

    private RotateTransition createRotation(ImageView card) {
        RotateTransition rotation = new RotateTransition(<FONT color="#82cafa"><A HREF="javascript:ZweiFrames('match51-1.html#32',3,'match51-top.html#32',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Duration.millis(500), card)</B></FONT>;
        rotation.setAxis(Rotate.Y_AXIS);
        rotation.setFromAngle(0);
        rotation.setToAngle(360);
        rotation.setInterpolator(Interpolator.LINEAR);

        return rotation;
    }

<A NAME="33"></A>    private RotateTransition createDelayRotation(ImageView card, Duration delay) {
        RotateTransition rotation = new RotateTransition(Duration.millis(500), card);
        rotation.setAxis</B></FONT>(Rotate.Y_AXIS);
        <FONT color="#736aff"><A HREF="javascript:ZweiFrames('match51-1.html#33',3,'match51-top.html#33',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>rotation.setFromAngle(0);
        rotation.setToAngle(360);
        rotation.setInterpolator(Interpolator.LINEAR);
        rotation.setDelay(delay);

        return rotation;
    }

    private class ElapsedTime {
        private AnimationTimer gameTimer;
        private long startTime = System.currentTimeMillis()</B></FONT>;
<A NAME="34"></A>        private final int endTimeMinute = 2;
        private final long interval = endTimeMinute * 60000;
         void startElapsedTime() {
             startTime = <FONT color="#827d6b"><A HREF="javascript:ZweiFrames('match51-1.html#34',3,'match51-top.html#34',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>System.currentTimeMillis();
            gameTimer = new AnimationTimer() {
                @Override
                public void handle(long now) {
                    long elapsedMillis = System.currentTimeMillis() - startTime;
                    // Get current elapsed time and display it to timerLabel
                    int minute = (int) elapsedMillis / 6000</B></FONT>0;
<A NAME="35"></A>                    int second = (int) elapsedMillis / 1000 - minute * 60;
                    elapsedSecond = second;
                    int centi = (int) elapsedMillis % 100;
                    timerLabel.setText(<FONT color="#41a317"><A HREF="javascript:ZweiFrames('match51-1.html#35',3,'match51-top.html#35',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>formatNum(minute) + &quot;:&quot; + formatNum(second) + &quot;:&quot; + formatNum(centi));

                    if (elapsedMillis &gt;= interval) {
                        // Stop timer
                        gameTimer.stop();
                        gameStop = true;
                        loadEndScene();
                    }
                    else {</B></FONT>
                        // Update timer
                        double progress = ((double) interval - elapsedMillis) / interval;
                        timerBar.setProgress(progress);
<A NAME="36"></A>                    }
                }
            };
            <FONT color="#ff00ff"><A HREF="javascript:ZweiFrames('match51-1.html#36',3,'match51-top.html#36',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>gameTimer.start();
        }

        private String formatNum(int num) {
             String numString;
             if (num &lt; 10) {
<A NAME="37"></A>                 numString = &quot;0&quot; + num;
             }
             else
                 numS</B></FONT>tring = Integer.toString(num)<FONT color="#810541"><A HREF="javascript:ZweiFrames('match51-1.html#37',3,'match51-top.html#37',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>;
             return numString;
        }
        void stopTimer() {
             gameTimer.stop();
        }
    }</B></FONT>

    private void onGameFinished() {
<A NAME="38"></A>        // Stop timer
        eTime.stopTimer();
        int previousScore = GameModel.Score.getScore();
        <FONT color="#348781"><A HREF="javascript:ZweiFrames('match51-1.html#38',3,'match51-top.html#38',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>GameModel.Score.setScore(previousScore + (120 - elapsedSecond));
        loadEndScene();
    }

    // Game start
    public void onGameStart() {
        if (!gameOnGoing) {
            // Set score
            scoreLabel.setText(Integer.toString(GameModel.Score.getScore()));
            // Clear previous game data
            openedCards.clear();
            elapsedSecond = 0;
            timerBar.setProgress</B></FONT>(100);

            // Lock new game
            GameModel.Level.setCanSetLevel(false);
            gameStop = false;

            // Generate cards
            gameOnGoing = true;
            initializeCardViews();
            model.generateCardsList();
            hideAllCards();

            // Create timer
            eTime.startElapsedTime();

            // Play music
            bgm.setStartTime(new Duration(0));
            musicPlaying = true;
            bgm.play();
        }
    }
}
</PRE>
<HR>
<H3><CENTER>Asm2Final/src/model/GameModel.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Tran Kim Long
  ID: s3755614
  Created date: 12/12/2019
  Last modified: 18/12/2019
  Acknowledgement:
  For coding, I have used various resources from javafx api along side with Mr.Quang's lecture slides.
  Here is the list of all the classes i have used:
  1. AnimationTimer https://docs.oracle.com/javafx/2/api/javafx/animation/AnimationTimer.html
  2. MediaPlayer https://docs.oracle.com/javafx/2/api/javafx/scene/media/MediaPlayer.html
  3. ProgressBar https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ProgressBar.html
  4. RotateTransition https://docs.oracle.com/javafx/2/api/javafx/animation/RotateTransition.html
  5. ComboBox https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ComboBox.html
  6. Collections https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html

  For UI designing, i have used various resources of images and sound effect from internet.
  Most of the images are formatted by me to fit with my UI design.
  Here is the list of all the resources i have used:
  Players images:
  1.https://vietnamnet.vn/vn/doi-song/gioi-tre/trung-ve-thanh-chung-va-chuyen-tinh-3-nam-ben-ban-gai-10x-593847.html
  2.https://vnexpress.net/world-cup-2022/tien-linh-khong-ta-noi-cam-xuc-khi-choc-thung-luoi-uae-4012551.html
  3.https://dantri.com.vn/sea-games-30/bao-chau-a-du-doan-bui-tien-dung-du-bi-o-tran-gap-u-22-singapore-20191203124244217.htm
  4.https://tintuconline.com.vn/the-thao/ha-duc-chinh-pha-sau-ky-luc-ghi-ten-minh-vao-lich-su-u22-viet-nam-tai-sea-games-n-419678.html
  5.http://bongdatructuyen.net/nhung-cai-ten-giup-u23-viet-nam-toa-sang-o-vong-loai-u23-chau-a-2020/
  6.http://quangtri.tintuc.vn/the-thao/truong-van-thai-quy-la-mot-trong-9-ngoi-sao-cua-hlv-park-hang-seo-o-u23-viet-nam.html
  7.https://news.zing.vn/nguyen-hoang-duc-con-dau-dau-cua-hlv-park-hang-seo-post928577.html
  8.https://news.zing.vn/buoc-ngoat-tuoi-14-va-hanh-trinh-toi-dinh-cao-cua-do-hung-dung-post1022206.html
  9.https://nguoi-noi-tieng.com/tieu-su/tieu-su-cau-thu-nguyen-quang-hai-531265
  10.https://baomoi.com/tuyen-thu-trong-hoang-chuan-bi-ket-hon/c/28227232.epi
  Card Background:
  https://www.vectorstock.com/royalty-free-vector/flat-football-icon-over-red-background-vector-4881634
  App background:
  https://dantri.com.vn/giai-tri/dan-sao-o-viet-nam-han-quoc-cung-co-vu-viet-nam-vo-dich-20181215152158487.htm
  Sound icon:
  https://www.vectorstock.com/royalty-free-vector/volume-sound-icon-on-white-background-vector-20857588
  Sound:
<A NAME="2"></A>  https://www.bensound.com/royalty-free-music/track/little-idea
*/

<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match51-1.html#2',3,'match51-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>package model;

import javafx.application.Platform;
import javafx.scene.image.Image;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Scanner;

public class GameModel {
    private ArrayList&lt;Card&gt; cardList = new ArrayList&lt;&gt;();
    private int cardsClicked = 0</B></FONT>;

    public static class Score {
        private static int score = 0;
        private static final String filePath = &quot;src/score.txt&quot;;
<A NAME="3"></A>
        public static void saveScoreToFile() throws FileNotFoundException {
            File scoreFile = new File(filePath);
            PrintWriter printWriter = <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match51-1.html#3',3,'match51-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>new PrintWriter(scoreFile);
            printWriter.println(score);
            printWriter.close();
        }

<A NAME="4"></A>        public static void setScoreFromFile() throws FileNotFoundException {
            File scoreFile = new</B></FONT> File(filePath);
            Scanner scanner = new Scanner(scoreFile);
            score = <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match51-1.html#4',3,'match51-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Integer.parseInt(scanner.next());
            scanner.close();
        }

        public static int getScore() {
            return score;
        }

        public static void setScore(int newScore) {
            score = newScore;
        }
    }</B></FONT>

    // Card class
<A NAME="5"></A>    public static class Card {
        private static boolean isCardFlipping;
        private int imageID;
        <FONT color="#c8c2a7"><A HREF="javascript:ZweiFrames('match51-1.html#5',3,'match51-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>private Image image;

        Card(int id) {
            this.imageID = id;
            setCardImage();
        }

        public int getImageID() {
            return imageID;
        }

        public Image getImage() {
            return image;
<A NAME="6"></A>        }

        void setCardImage() {</B></FONT>
            <FONT color="#50ebec"><A HREF="javascript:ZweiFrames('match51-1.html#6',3,'match51-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>this.image = new Image(&quot;file:src/images/cards/&quot; + imageID + &quot;.jpg&quot;);
        }

        public static boolean isCardFlipping() {
            return isCardFlipping;
        }

        public static void setCardFlipping(boolean cardFlipping) {
            isCardFlipping = cardFlipping;
        }</B></FONT>
    }

    // Level class
    public static class Level {
<A NAME="7"></A>        private static int gameLevel = 1; // default level
        private static boolean canSetLevel = true;

        <FONT color="#c58917"><A HREF="javascript:ZweiFrames('match51-1.html#7',3,'match51-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>public static int getGameLevel() {
            return gameLevel;
        }
        public static void setGameLevel(int level) {
            gameLevel = level;
        }

        public static boolean canSetLevel() {
            return canSetLevel;
        }
        public static void setCanSetLevel(boolean cantSetLevel) {
            canSetLevel = cantSetLevel;
        }
    }</B></FONT>
<A NAME="8"></A>
    public void exit() {
        Platform.exit();
    <FONT color="#bce954"><A HREF="javascript:ZweiFrames('match51-1.html#8',3,'match51-top.html#8',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    // ArrayList of Cards
    public void generateCardsList() {
        if (!cardList.isEmpty()) {
            cardList.clear();
        }

        // Delete the list if there are previous cards
        for (int j = 0; j &lt; 2; j++) {</B></FONT>
<A NAME="9"></A>            // Add new cards
            for (int i = 1; i &lt;= 10; i++) {
                cardList.add(new Card(i));
            <FONT color="#f88017"><A HREF="javascript:ZweiFrames('match51-1.html#9',3,'match51-top.html#9',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
        }

        // Shuffle new cards
        Collections.shuffle(cardList);
    }

    public ArrayList&lt;Card&gt; getCardList() {
        return cardList;
    }

    public int getCardsClicked() {
        return cardsClicked;
    }

    public void set</B></FONT>CardsClicked(int cardsClicked) {
        this.cardsClicked = cardsClicked;
    }
}
</PRE>

</BODY>
</HTML>
