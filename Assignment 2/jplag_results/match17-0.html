<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>minhchuanh_LA</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>Assignment2/src/sample/Controller.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>package sample;

<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match17-1.html#0',3,'match17-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import javafx.animation.FadeTransition;
import javafx.fxml.FXML;
import javafx.scene.Node;
import javafx.scene.control.ChoiceBox;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.scene.text.Text;
import javafx.stage.Stage;
import javafx.util.Duration;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.net.URL;
import java.util.ArrayList;
import java.util.Collections;

public class Controller {

    @FXML
    private GridPane cardDeck;
    @FXML
    private Text time;
    @FXML
    private ChoiceBox difficultyChoice;
    @</B></FONT>FXML
    private ImageView image01, image02, image03, image04, image05, image06, image07, image08, image09, image10,
            image11, image12, image13, image14, image15, image16, image17, image18, image19, image20;


    URL musicURL = getClass().getResource(&quot;Mariah Carey - All I Want For Christmas Is You.mp3&quot;);
    Media mp3MusicFile = new Media(musicURL.toExternalForm());
    MediaPlayer musicPlayer = new MediaPlayer(mp3MusicFile);

    //Declaration
    Image firstCard, secondCard;
    Node firstCardButton = null, secondCardButton = null;
    int MUSIC_TURNON = 0;
    int timeToFade = 0;


    public void toggleMusic() {
        musicPlayer.setVolume(1);
        ++MUSIC_TURNON;

        if (MUSIC_TURNON &gt; 1) {
            MUSIC_TURNON = 0;
        }
        switch (MUSIC_TURNON) {
            case 0:
                musicPlayer.pause();
                break;
            case 1:
                musicPlayer.play();
                break;
        }

        // Set the music to be repeat
        musicPlayer.setCycleCount(MediaPlayer.INDEFINITE);
    }

    private Timer timer = new Timer();
    private Stage stage;

    // loading image
    ArrayList&lt;Cards&gt; player = new ArrayList&lt;&gt;();
    ArrayList&lt;Cards&gt; playerCopy = new ArrayList&lt;&gt;();

<A NAME="1"></A>    // startup the game
    @FXML
    public void initialize() throws FileNotFoundException {
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match17-1.html#1',3,'match17-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>loadPlayers();
        setUpDifficulty();
    }

    // quit the game
    public void quitGame() {
        System.exit(1);
    }


    // Lock choice button and start the timer
    public void setUpDifficulty() {</B></FONT>
        difficultyChoice.getSelectionModel().selectedItemProperty().addListener((one, oldValue, newValue) -&gt; {
            setDifficulty(newValue);
            cardDeck.setDisable(false);
            shufflingCards();
            difficultyChoice.setDisable(true);
            timer.tick(time);
        });
    }

    private void setDifficulty(Object newValue) {
        String difficulty = newValue.toString().substring(12);
        switch (difficulty) {
            case &quot;Easy&quot;:
                timeToFade = 3;
                break;
            case &quot;Medium&quot;:
                timeToFade = 2;
                break;
            case &quot;Hard&quot;:
                timeToFade = 1;
                break;
        }
    }

    // load all images to an array list and then creating a copy version
    public void loadPlayers() throws FileNotFoundException {
        for (int i = 1; i &lt;= 10; i++) {
            String playerFolder = &quot;src/sample/Players/&quot;;
            FileInputStream playerStream = new FileInputStream(playerFolder + &quot;Player&quot; + i + &quot;.jpg&quot;);
            Image playerImage = new Image(playerStream);
            Cards newPlayer = new Cards();
<A NAME="2"></A>            newPlayer.setFrontSide(playerImage);
            player.add(newPlayer);
        }
        playerCopy = (ArrayList&lt;Cards&gt;) <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match17-1.html#2',3,'match17-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>player.clone();
    }

    // shuffling all cards
    public void shufflingCards() {
        Collections.shuffle(player);
        Collections.shuffle(playerCopy);
        shuffleImages(player, image01, image02, image03, image04, image05, image06, image07, image08, image09, image10);
        shuffleImages</B></FONT>(playerCopy, image11, image12, image13, image14, image15, image16, image17, image18, image19, image20);
<A NAME="3"></A>    }
<A NAME="4"></A>
    // shuffle the copied cards
    private void shuffleImages(<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match17-1.html#3',3,'match17-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ArrayList&lt;Cards&gt; playerCopy, ImageView image1, ImageView image2, ImageView image3, ImageView image4, ImageView image5, ImageView image6, ImageView image7, ImageView image8, ImageView image9, ImageView image10</B></FONT>) {
        <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match17-1.html#4',3,'match17-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>image1.setImage(playerCopy.get(0).flipToFront());
        image2.setImage(playerCopy.get(1).flipToFront());
        image3.setImage(playerCopy.get</B></FONT>(2).flipToFront());
        image4.setImage(playerCopy.get(3).flipToFront());
<A NAME="5"></A>        image5.setImage(playerCopy.get(4).flipToFront());
        image6.setImage(playerCopy.get(5).flipToFront());
        image7.setImage(playerCopy.get(6).flipToFront());
        image8.setImage(<FONT color="#c8c2a7"><A HREF="javascript:ZweiFrames('match17-1.html#5',3,'match17-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>playerCopy.get(7).flipToFront());
        image9.setImage(playerCopy.get(8).flipToFront());
        image10.setImage(playerCopy.get(9).flipToFront());
        playerCopy.clear();
    }</B></FONT>


    // display images
    private FadeTransition flip(Node node) {
        node.setOpacity(1);
        FadeTransition cardTransition = new FadeTransition(Duration.seconds(timeToFade), node);
        cardTransition.setFromValue(1);
        cardTransition.setToValue(0);
        return cardTransition;
    }

    // adding events
    @FXML
    int imageClicked = 0;

    @FXML
    private void onCardClickedEvent(MouseEvent event) {
        Node chosenButton = (Node) event.getSource();
        ImageView getImageFromButton = (ImageView) chosenButton;

        imageClicked++;
        System.out.println(&quot;cardsClicked = &quot; + imageClicked);

        if (imageClicked == 1) {
            firstCardButton = chosenButton;
            firstCard = getImageFromButton.getImage();
            flip(firstCardButton).stop();
        } else if (imageClicked == 2) {
            secondCardButton = chosenButton;
            secondCard = getImageFromButton.getImage();

            if (firstCard.equals(secondCard)) {
<A NAME="6"></A>                if (firstCardButton.getId().equals(secondCardButton.getId())) {
                    firstCardButton.setDisable(false);
                } else {
                    <FONT color="#50ebec"><A HREF="javascript:ZweiFrames('match17-1.html#6',3,'match17-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>flip(secondCardButton).stop();
                    firstCardButton.setDisable(true);
                    secondCardButton.setDisable(true);
                }
            } else {</B></FONT>
                flip(firstCardButton).play();
                flip(secondCardButton).play();
            }
            firstCard = null;
            secondCard = null;
            imageClicked = 0;
        }
    }
}














</PRE>
<HR>
<H3><CENTER>Assignment2/src/sample/Main.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Chu Anh Minh
  ID: s3758870
  Created  date: 112/2019
  Last modified: 17/12/2019
  Acknowledgement:

*/


package sample;

import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

import java.awt.*;


public class Main extends Application {

    GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();
    int width = gd.getDisplayMode().getWidth() - 200;
<A NAME="7"></A>    int height = gd.getDisplayMode().getHeight() - 100;


    <FONT color="#c58917"><A HREF="javascript:ZweiFrames('match17-1.html#7',3,'match17-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>@Override
    public void start(Stage primaryStage) throws Exception {
        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));
        primaryStage.setTitle(&quot;Image matching game &quot;);
        primaryStage.setScene(new Scene(root, width, height));
        primaryStage.show</B></FONT>();

    }

}

</PRE>

</BODY>
</HTML>
