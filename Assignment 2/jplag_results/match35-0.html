<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>khoivuduy_LAT</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>Assignment2/src/sample/Controller.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Vu Duy Khoi
  ID: s3694615
  Created  date: 15/12/2019
  Last modified: 16/12/2019
  Acknowledgement:
<A NAME="0"></A>  http://www.tutormay.com/tutorial/tutorial-series/17/586 (for background music)
*/

<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match35-1.html#0',3,'match35-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>package sample;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.ProgressBar;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseButton;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
<A NAME="1"></A>import javafx.scene.layout.VBox;
import javafx.scene.media.Media;
import</B></FONT> javafx.scene.media.MediaPlayer;
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match35-1.html#1',3,'match35-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import javafx.scene.media.MediaView;

import java.awt.*;
import java.io.File;
import java.net.URL;
import java.util.*;

public class Controller implements Initializable {
    // FXML ids
    @FXML
    private ProgressBar timeBar;
    @FXML
    private MediaView mediaView;
    @FXML
    private Label scoreLabel;
    @FXML
    private GridPane gridPane;
    @FXML
    private VBox levelVBox;
    @FXML
    private Button playButton;
    @FXML
    private Button quitButton;
    @FXML
    private Label level;
    @FXML
    private ImageView playSound;
    @FXML
    private ImageView muteSound;
    @FXML
    private ImageView iv1;
    @FXML
    private ImageView iv2;
    @FXML
    private ImageView iv3;
    @FXML
    private ImageView iv4;
    @FXML
    private ImageView iv5;
    @FXML
    private ImageView iv6;
    @FXML
    private ImageView iv7;
    @FXML
    private ImageView iv8;
    @FXML
    private ImageView iv9;
    @FXML
    private ImageView iv10;
    @FXML
    private ImageView iv11;
    @FXML
    private ImageView iv12;
    @FXML
    private ImageView iv13;
    @FXML
    private ImageView iv14;
    @FXML
    private ImageView iv15;
    @FXML
    private ImageView iv16;
    @FXML
    private ImageView iv17;
    @FXML
    private ImageView iv18;
    @FXML
    private ImageView iv19;
    @FXML
    private ImageView iv20;

    // Storing variables
    public Image Cup = new Image(&quot;Cup.jpg&quot;)</B></FONT>;
<A NAME="2"></A>
    public Image selectedPhotos[] = new Image[20];

    <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match35-1.html#2',3,'match35-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>public Image photo[] = {new Image(&quot;DucChinh.jpg&quot;),
                            new Image(&quot;HoangDuc.jpg&quot;),
                            new Image(&quot;HungDung.jpg&quot;),
                            new Image(&quot;QuangHai.jpg&quot;),
                            new Image(&quot;TanSinh.jpg&quot;),
                            new Image(&quot;TienDung.jpg&quot;),
                            new Image(&quot;TienLinh.jpg&quot;),
                            new Image(&quot;TrongHoang.jpg&quot;),
                            new Image(&quot;VanHau.jpg&quot;),
                            new Image(&quot;VanToan.jpg&quot;),
                            new Image(&quot;DucChinh.jpg&quot;),
                            new Image(&quot;HoangDuc.jpg&quot;),
                            new Image(&quot;HungDung.jpg&quot;),
                            new Image(&quot;QuangHai.jpg&quot;),
                            new Image(&quot;TanSinh.jpg&quot;),
                            new Image(&quot;TienDung.jpg&quot;),
                            new Image(&quot;TienLinh.jpg&quot;),
                            new Image(&quot;TrongHoang.jpg&quot;),
<A NAME="3"></A>                            new Image(&quot;VanHau.jpg&quot;),
                            new</B></FONT> Image(&quot;VanToan.jpg&quot;)};

    <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match35-1.html#3',3,'match35-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>boolean speakerCheck = true;
    public int score = 0;
    public int totalScore = 0;
    public int flippedCard = 0;
    public float pairFound = 0;
    public float timeleft = 120;

<A NAME="4"></A>    public void randomCards() {
        // Initialize photoList
        ArrayList&lt;Image&gt; photoList = new</B></FONT> ArrayList();
        <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match35-1.html#4',3,'match35-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>for (int i = 0; i &lt; 20; i++) {
            photoList.add(photo[i]);
        }
        // Put cards in random position
        int numberOfRandom = 20;
        for (int i = 0; i &lt; 20; i++) {</B></FONT>
            Random random = new Random();
            int temp = random.nextInt(numberOfRandom);
            selectedPhotos[i] = photoList.get(temp);
<A NAME="5"></A>            photoList.remove(temp);
            numberOfRandom--;
        }
    <FONT color="#c8c2a7"><A HREF="javascript:ZweiFrames('match35-1.html#5',3,'match35-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    public void updateScore() {
        totalScore += score;
        score = 120;
        scoreLabel.setText(Integer.toString(totalScore));
    }

    public void startCountDown() {</B></FONT>
<A NAME="6"></A>        timeleft = 120;
        score = 120;
        timeBar.setProgress(timeleft/120);
        <FONT color="#50ebec"><A HREF="javascript:ZweiFrames('match35-1.html#6',3,'match35-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Timer timer = new Timer();
        TimerTask countDown = new TimerTask() {
            @Override
            public void run() {
                if (pairFound &lt; 10) {</B></FONT>
<A NAME="7"></A>                    if(timeleft &gt; 0){
                        timeleft--;
                        score -= 1;
                    <FONT color="#c58917"><A HREF="javascript:ZweiFrames('match35-1.html#7',3,'match35-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>} else if (timeleft &lt;= 0) {
                        timer.cancel();
                    }
                } else if</B></FONT> (pairFound &gt;= 10) {
                    timer.cancel();
                }
                timeBar.setProgress(timeleft/120);
<A NAME="8"></A>            }
        };
        timer.schedule(countDown, 1000, 3000);
    <FONT color="#bce954"><A HREF="javascript:ZweiFrames('match35-1.html#8',3,'match35-top.html#8',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    // Actions with button for choosing level
    public void pressLevel1 (ActionEvent chooseLevel1) {
        levelVBox.setVisible(false);
        gridPane.setVisible(true);
        level.setText(&quot;1&quot;);
        startCountDown();
    }
    public void pressLevel2 (ActionEvent chooseLevel2) {
        levelVBox.setVisible(false);
        gridPane.setVisible(true);
        level.setText(&quot;2&quot;);
<A NAME="9"></A>        startCountDown();
    }
    public void pressLevel3 (ActionEvent chooseLevel3) {</B></FONT>
        <FONT color="#f88017"><A HREF="javascript:ZweiFrames('match35-1.html#9',3,'match35-top.html#9',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>levelVBox.setVisible(false);
        gridPane.setVisible(true);
        level.setText(&quot;3&quot;);
        startCountDown();
    }

    // Action with speaker icon
<A NAME="10"></A>    public void speakerPress (MouseEvent click) {
        if (click.getButton() == MouseButton.PRIMARY) {
            if</B></FONT> (speakerCheck == true) {
                <FONT color="#b041ff"><A HREF="javascript:ZweiFrames('match35-1.html#10',3,'match35-top.html#10',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>playSound.setVisible(false);
                muteSound.setVisible(true);
                speakerCheck = false;
                mediaView.getMediaPlayer().pause();
            } else if (speakerCheck == false) {</B></FONT>
                playSound.setVisible(true);
<A NAME="11"></A>                muteSound.setVisible(false);
                speakerCheck = true;
                mediaView.getMediaPlayer().play();
            <FONT color="#571b7e"><A HREF="javascript:ZweiFrames('match35-1.html#11',3,'match35-top.html#11',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
        }
    }

    // Background music
    @Override
<A NAME="12"></A>    public void initialize(URL location, ResourceBundle resources) {
        Media music = new Media(new File(&quot;Background.mp3&quot;).toURI</B></FONT>().toString());
        MediaPlayer player = new MediaPlayer(music);
        <FONT color="#3b9c9c"><A HREF="javascript:ZweiFrames('match35-1.html#12',3,'match35-top.html#12',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>mediaView.setMediaPlayer(player);
        player.setAutoPlay(true);
        player.setCycleCount(MediaPlayer.INDEFINITE);
    }

    // Action with play button
    public void pressPlay (ActionEvent play) {
        playButton.setVisible(false);
        quitButton.setVisible(false);
        levelVBox.setVisible(true);
        scoreLabel.setText(Integer.toString(score));
        randomCards();
<A NAME="13"></A>    }
    // Action with quit button
    public vo</B></FONT>id pressQuit (ActionEvent quit) {
        <FONT color="#842dce"><A HREF="javascript:ZweiFrames('match35-1.html#13',3,'match35-top.html#13',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>quitButton.setVisible(false);
        playButton.setVisible(false);
        levelVBox.setVisible(false);
        gridPane.setVisible(false);
        System.exit(0);
    }
    // Action with cards
<A NAME="14"></A>    public boolean cardMatch(ImageView v1, ImageView v2) {
        if (v1.getImage().getUrl</B></FONT>().compareTo(v2.getImage().getUrl()) == 0) {
            return true;
        } else return false<FONT color="#f52887"><A HREF="javascript:ZweiFrames('match35-1.html#14',3,'match35-top.html#14',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>;
    }
<A NAME="15"></A>
    public boolean cardCheckFlipped(ImageView iv) {
        if (iv.getImage().getUrl().compareTo(Cup.getUrl()) == 0) {</B></FONT>       // Compare the URL to see if they are the same image
            <FONT color="#3bb9ff"><A HREF="javascript:ZweiFrames('match35-1.html#15',3,'match35-top.html#15',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>return false;
        }
        return true;
<A NAME="16"></A>    }

    ImageView flippedCard1, flippedCard2;
    public vo</B></FONT>id pressCard(<FONT color="#3090c7"><A HREF="javascript:ZweiFrames('match35-1.html#16',3,'match35-top.html#16',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>MouseEvent cardClick) {
        // Intialize the ArrayList
        ArrayList&lt;String&gt; ivList = new ArrayList();
        ivList.add(iv1.getId());
        ivList.add(iv2.getId());
        ivList.add(iv3.getId());
        ivList.add(iv4.getId());
        ivList.add(iv5.getId());
        ivList.add(iv6.getId());
        ivList.add(iv7.getId());
        ivList.add(iv8.getId());
        ivList.add(iv9.getId());
        ivList.add(iv10.getId());
        ivList.add(iv11.getId());
        ivList.add(iv12.getId());
        ivList.add(iv13.getId());
        ivList.add(iv14.getId());
        ivList.add(iv15.getId());
        ivList.add(iv16.getId());
        ivList.add(iv17.getId());
        ivList.add(iv18.getId());
        ivList.add(iv19.getId());
        ivList.add(iv20.getId</B></FONT>());
<A NAME="17"></A>
        ImageView target = (ImageView) cardClick.getTarget();

        <FONT color="#800517"><A HREF="javascript:ZweiFrames('match35-1.html#17',3,'match35-top.html#17',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>TimerTask task =  new TimerTask() {
            @Override
            public void run() {
                if (cardMatch(flippedCard1, flippedCard2)) {
                    flippedCard2.setDisable(true);
<A NAME="18"></A>                    flippedCard1.setDisable</B></FONT>(true);
                    flippedCard = 0;
                    pairFound += 0.5; // each card of the pair will run this line
                <FONT color="#f62817"><A HREF="javascript:ZweiFrames('match35-1.html#18',3,'match35-top.html#18',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>} else if (!cardMatch(flippedCard1, flippedCard2)) {
                    target.setImage(Cup);
                    flippedCard--;
                }
            }</B></FONT>
<A NAME="19"></A>        };
        Timer timer = new Timer();
        int delay;
        switch (Integer.parseInt(<FONT color="#4e9258"><A HREF="javascript:ZweiFrames('match35-1.html#19',3,'match35-top.html#19',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>level.getText())) {
            case 1:
                delay = 3000;
                break;
            case 2:
                delay = 2000;
                break;
            case 3:
                delay = 1000;
                break;
            default:
                delay = 0;
                break;
        }</B></FONT>

        if (cardClick.getButton() == MouseButton.PRIMARY) {
            if (cardCheckFlipped(target) == false) {
                if (flippedCard &gt;= 2) {
<A NAME="20"></A>                }
                else if (flippedCard &lt; 2) {
                    int temp = ivList.indexOf(target.getId());
                    <FONT color="#d4a017"><A HREF="javascript:ZweiFrames('match35-1.html#20',3,'match35-top.html#20',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>target.setImage(selectedPhotos[temp]);
                    flippedCard++;
                    if(flippedCard == 1) {
                        flippedCard1 = (ImageView)cardClick.getSource();
<A NAME="21"></A>                    } else if (flippedCard == 2) {
                        flippedCard2 = (ImageView)cardClick.getSource();
                    }</B></FONT>
                    <FONT color="#00ff00"><A HREF="javascript:ZweiFrames('match35-1.html#21',3,'match35-top.html#21',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>timer.schedule(task, delay);
                }
            }
            //(not allow to manually flip back down anymore)
            // else if (cardCheckFlipped(target) == true) {
//                target.setImage(Cup);
//                flippedCard--;
//                if (cardMatch(target, flippedCard1)) {
//                    flippedCard1 = flippedCard2;
//                }
//            }
        }
    }</B></FONT>
}
</PRE>
<HR>
<H3><CENTER>Assignment2/src/sample/Main.java</CENTER></H3><HR>
<PRE>
/*
  RMIT University Vietnam
  Course: INTE2512 Object-Oriented Programming
  Semester: 2019C
  Assessment: Assignment 2
  Author: Vu Duy Khoi
  ID: s3694615
  Created  date: 15/12/2019
  Last modified: 16/12/2019
  Acknowledgement:
  http://www.tutormay.com/tutorial/tutorial-series/17/586
*/

<A NAME="22"></A>package sample;


<FONT color="#4cc417"><A HREF="javascript:ZweiFrames('match35-1.html#22',3,'match35-top.html#22',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class Main extends Application {
    @Override
    public void start(Stage primaryStage) throws Exception{
<A NAME="23"></A>        Parent root = FXMLLoader.load</B></FONT>(getClass().getResource(&quot;View.fxml&quot;));
        primaryStage.setTitle(&quot;Photo-matching game&quot;);
        primaryStage.setScene(new Scene(root, 300, 275));
        <FONT color="#f660ab"><A HREF="javascript:ZweiFrames('match35-1.html#23',3,'match35-top.html#23',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>primaryStage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}</B></FONT>
</PRE>

</BODY>
</HTML>
